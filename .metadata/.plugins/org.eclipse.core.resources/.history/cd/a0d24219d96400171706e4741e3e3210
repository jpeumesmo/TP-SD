import java.io.Console;
import java.io.IOException;
import java.net.UnknownHostException;
import java.util.Scanner;

public class TpSD {
	public static void main(String[] args) throws IOException{
		Scanner in = new Scanner(System.in);

		System.out.println("Digite o ip para se concetar");
		String ip = in.nextLine();
		System.out.println("Digite o numero da porta\n");
		int porta = in.nextInt();

		String comando;		
		String userName;
		String password;
		Console console = System.console();
			
		try {
			Cliente cliente = new Cliente(ip,porta);
			while(true){

				console.printf("Please enter your username: ");
				userName = console.readLine();

				console.printf("Please enter your password: ");
				char[] passwordChars = console.readPassword();
				password = new String(passwordChars);
				//System.out.println(password);

				if(cliente.logar(userName,password)){
					break;
				}else{
					System.out.println("Falha no login");
					System.out.println("Tente de novo");
				}
			}
			while(true){
				System.out.print(userName+"@Goku:~$");
				comando = in.next();

				if(comando.equals("exit")){


					in.close();
					break;
				}		
			}

		} catch (UnknownHostException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
