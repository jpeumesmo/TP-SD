import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.net.ServerSocket;
import java.net.Socket;

public class ServidorConexao implements Runnable{

	//ATRIBUTOS
	private ServerSocket servidor;
	private Thread t;
	private int porta;
	
	public ServidorConxeao(int porta){
		this.porta = porta;
	}
	
	public static void start(int porta){
		servidor = new ServerSocket(porta);
		System.out.println("Servidor ouvindo a porta "+ porta);
		// o metodo accept() bloqueia a execucao ate que
		// o servidor receba um pedido de conexao
		while(true){
			.run();
		}		

	}
	public void run(){
		try {
			
			Socket cliente;
				
			//VARIAVEIS DE COMUNICACAO
			DataInputStream tipoOperacao = new DataInputStream(cliente.getInputStream());
			ObjectInputStream objetoRecebido = new ObjectInputStream(cliente.getInputStream());
			ObjectOutputStream objetoEnviado = new ObjectOutputStream(cliente.getOutputStream());
			DataOutputStream resposta = new DataOutputStream(cliente.getOutputStream());

			//VARIAVEIS PARA RECEBER E ENVIAR ARQUIVOS
			byte[] buffer = new byte[4096];//buffer de 4kb
			int len = 0;
			
			while (true){
				switch (tipoOperacao.readInt()){

				//OPERACAO DE LOGAR
				case 0:
					
					break;
				//OPERACAO	
				case 1:
					
					break;
				default:
					//ENVIAR OPERACAO INVALIDA
					System.out.println("Operacao Invalida");
					break;
			}
		}
		catch(Exception e) {
			System.out.println("Erro: " + e.getMessage());
		}
		finally {
			System.out.println("Conexao fechada\n");
		} 
	}
}